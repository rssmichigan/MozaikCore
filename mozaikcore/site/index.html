<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mozaik — Private, General‑Purpose AI</title>

  <!-- Icons & manifest (relative paths for Vercel “site” root) -->
  <link rel="icon" href="favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
  <link rel="manifest" href="site.webmanifest">
  <meta name="theme-color" content="#0b0f14">

  <!-- Social -->
  <meta property="og:title" content="Mozaik — Private, General‑Purpose AI">
  <meta property="og:description" content="Run MozaikCore with your data. Reasoning, planning, summarization, and cited RAG.">
  <meta property="og:image" content="icons/android-chrome-512x512.png">
  <meta property="og:url" content="https://mozaikai.com/">
  <meta name="twitter:card" content="summary_large_image">

  <link rel="stylesheet" href="styles.css" />
</head>
<body>
<header class="nav">
  <div class="brand">
    <img src="assets/logo-mark.png" alt="Mozaik logo" class="logo">
    <span>Mozaik</span>
  </div>
  <a class="cta" href="https://api.mozaikai.com/docs">API Docs</a>
</header>

<main class="hero">
  <h1>Private, General‑Purpose AI</h1>
  <p>MozaikCore runs with your data. General reasoning, planning, summarization, and RAG — without your data leaving your control.</p>
  <div class="buttons">
    <a class="btn" href="https://api.mozaikai.com/docs">Open API Swagger</a>
    <a class="btn secondary" href="#quickstart">Quickstart</a>
  </div>

  <!-- Ask Mozaik -->
  <div id="ask" class="ask-panel">
    <form id="askForm">
      <input id="askInput" type="text" placeholder="Ask Mozaik…" autocomplete="off" />
      <button class="btn" type="submit">Send</button>
    </form>
    <pre id="askOut" class="answer"></pre>
  </div>
</main>

<section id="capabilities" class="section">
  <h2>What it does</h2>
  <ul class="grid">
    <li><strong>Chat & Reason</strong><br/>Clear, concise answers with instructable behavior.</li>
    <li><strong>Summarize</strong><br/>Clean bullets from messy notes or long docs.</li>
    <li><strong>RAG</strong><br/>Cited answers from your ingested notes.</li>
    <li><strong>Privacy</strong><br/>High‑privacy mode redacts PII before generation.</li>
  </ul>
</section>

<section id="quickstart" class="section">
  <h2>Quickstart</h2>
  <pre><code>
# POST questions to your API
curl -X POST https://api.mozaikai.com/complete \
  -H "Content-Type: application/json" \
  -d '{"task":"auto","query":"From our charter, list principles.","use_rag":true}'
</code></pre>
</section>

<footer class="footer">
  <div>© <span id="y"></span> Mozaik</div>
</footer>
<script>document.getElementById('y').textContent=new Date().getFullYear()</script>

<script>
(function () {
  // Always call the production API hostname from the site
  const API_BASE = 'https://api.mozaikai.com';

  const form = document.getElementById('askForm');
  const input = document.getElementById('askInput');
  const out = document.getElementById('askOut');
  const btn = form?.querySelector('button');

  const SYSTEM_CONCISE = "Be concise and specific. Keep answers under ~120 words unless asked otherwise.";

  if (!form) return;

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const q = (input.value || '').trim();
    if (!q) return;

    out.classList.add('loading');
    out.textContent = 'Thinking…';
    btn.disabled = true;

    try {
      const res = await fetch(`${API_BASE}/complete`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          task: 'auto',
          query: q,
          privacy: 'low',
          use_rag: true,
          system: SYSTEM_CONCISE
        })
      });
      const data = await res.json();
      out.textContent = data?.answer ? data.answer : JSON.stringify(data, null, 2);
    } catch (err) {
      out.textContent = 'Error contacting Mozaik API.';
    } finally {
      out.classList.remove('loading');
      btn.disabled = false;
    }
  });
})();
</script>
</body>
</html>